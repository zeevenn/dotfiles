#!/usr/bin/env bash
#
# Run all dotfiles installers.

set -e

cd "$(dirname $0)"/..

# Tap third-party repositories first (brew bundle has issues with tap order)
echo "› brew tap third-party repositories"
brew tap laishulu/homebrew
brew tap leoafarias/fvm

echo "› brew bundle"
brew bundle

# garentee permissions
find . -name install.sh -exec chmod +x {} \;

# find the installers and run them iteratively
find . -name install.sh | while read installer; do sh -c "${installer}"; done
